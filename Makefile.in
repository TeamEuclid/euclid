# Copyright (c) Jess VanDerwalker <washu@sonic.net>
#
# Top level Makefile for the xtoq project
#

# @configure_input@

# May want to change prefix to local directory when testing
prefix = @prefix@
exec_prefix = @exec_prefix@
bindir = @bindir@

PACKAGE = @PACKAGE_NAME@
VERSION = @PACKAGE_VERSION@

APPNAME = $(PACKAGE).app
XCODESRCDIR = xtoq/xtoq
XTOQSRCDIR = src
RESDIR = resources
MACOSTARGET = 10.7

export APPNAME
export XCODESRCDIR
export XTOQSRCDIR
export RESDIR
export MACOSTARGET

all clean @PACKAGE_NAME install uninstall:
	cd $(XTOQSRCDIR) && $(MAKE) $@
	cd $(XCODESRCDIR) && $(MAKE) $@

# Rebuild config.status and Makefiles is configure changes
Makefile: Makefile.in config.status
	./config.status $@

config.status: configure
	./config.status --recheck

FORCE:
	rm -rf $(APPNAME)

.PHONY: FORCE all clean install